<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>NitroBay RP - Normativas</title>
    <!-- CSS -->
    <link rel="stylesheet" href="css/base.css" />
    <link rel="stylesheet" href="css/normativas.css" />
    <!-- Fonts y Scripts -->
    <link rel="preconnect" href="https://fonts.googleapis.com"/>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&family=Teko:wght@500;700&display=swap" rel="stylesheet"/>
    <script src="https://kit.fontawesome.com/c12c24896b.js" crossorigin="anonymous"></script>
</head>
<body class="normativas-page">
    <header>
        <!-- LOGO ACTUALIZADO -->
        <a href="index.html" class="logo-link">
            <img src="imagenes/logo.png" alt="Logo de NitroBay RP" class="logo-img">
            <span class="logo-text">NitroBay RP</span>
        </a>
        <nav>
            <a href="index.html" class="nav-link">INICIO</a>
            <a href="tienda.html" class="nav-link">TIENDA</a>
            <a href="normativas.html" class="nav-link activo">NORMATIVAS</a>
        </nav>
        <a href="#" class="btn-header">ENTRAR</a>
    </header>

    <div class="page-title-header">
        <h1>Normativas | NitroBay RP</h1>
    </div>

    <div class="rules-container">
        <!-- Barra lateral de navegación -->
        <aside class="rules-sidebar">
            <ul>
                <li><a href="#general" class="sidebar-link active" data-target="general"><i class="fa-solid fa-book-open"></i> General</a></li>
                <li><a href="#comandos" class="sidebar-link" data-target="comandos"><i class="fa-solid fa-terminal"></i> Comandos</a></li>
                <li><a href="#fuerzas-armadas" class="sidebar-link" data-target="fuerzas-armadas"><i class="fa-solid fa-shield-halved"></i> Fuerzas Armadas</a></li>
                <li><a href="#policia" class="sidebar-link" data-target="policia"><i class="fa-solid fa-building-shield"></i> Policía</a></li>
                <li><a href="#gendarmeria" class="sidebar-link" data-target="gendarmeria"><i class="fa-solid fa-helmet-safety"></i> Gendarmería</a></li>
                <li><a href="#same" class="sidebar-link" data-target="same"><i class="fa-solid fa-truck-medical"></i> SAME</a></li>
                <li><a href="#organizaciones" class="sidebar-link" data-target="organizaciones"><i class="fa-solid fa-sitemap"></i> Organizaciones</a></li>
                <li><a href="#robos" class="sidebar-link" data-target="robos"><i class="fa-solid fa-gun"></i> Robos</a></li>
                <li><a href="#mecanicos" class="sidebar-link" data-target="mecanicos"><i class="fa-solid fa-wrench"></i> Mecánicos</a></li>
                <li><a href="#taxis" class="sidebar-link" data-target="taxis"><i class="fa-solid fa-taxi"></i> Taxis</a></li>
                <li><a href="#banco-central" class="sidebar-link" data-target="banco-central"><i class="fa-solid fa-building-columns"></i> Banco Central</a></li>
                <li><a href="#streamer" class="sidebar-link" data-target="streamer"><i class="fa-brands fa-youtube"></i> Streamers</a></li>
                <li><a href="#constitucion" class="sidebar-link" data-target="constitucion"><i class="fa-solid fa-scroll"></i> Constitución</a></li>
            </ul>
        </aside>

        <!-- Contenido de las normativas -->
        <main class="rules-content">
            <!-- Buscador (Fijo arriba) -->
            <div class="rules-search-wrapper">
                <div class="rules-search" role="search">
                    <div class="search-input-wrap">
                        <i class="fa-solid fa-magnifying-glass"></i>
                        <input type="search" id="rules-search-input" placeholder="Buscar en normativas...">
                        <button id="rules-search-clear" class="search-clear"><i class="fa-solid fa-xmark"></i></button>
                    </div>
                    <div class="search-meta">
                        <span id="rules-search-count">0 resultados</span>
                        <label class="search-scope">
                            <input type="checkbox" id="search-scope-current">
                            Solo en esta sección
                        </label>
                    </div>
                </div>
            </div>

            <!-- Sección de Resultados de Búsqueda -->
            <article id="search-results" class="content-section">
                <h2 class="section-title-chip">Resultados de Búsqueda</h2>
                <div id="search-results-list" class="search-results-list"></div>
                <p id="search-no-results" class="muted" hidden>No se encontraron resultados para tu búsqueda.</p>
            </article>

            <!-- SECCIÓN GENERAL (con tu texto y diseño mejorado) -->
            <article id="general" class="content-section active">
                <h2 class="section-title-chip">NORMATIVA GENERAL - NITROBAY</h2>
                <p>NITROBAY es un servidor que prioriza el orden, la coherencia y el respeto dentro del entorno de juego. Nuestro objetivo es ofrecer una experiencia organizada, divertida y fluida para todos los jugadores, respetando ciertas normas básicas que garantizan una buena convivencia.</p>
                <div class="alert-box warning">
                    <p><strong><i class="fa-solid fa-triangle-exclamation"></i> Importante:</strong> El desconocimiento de esta normativa no exime de su cumplimiento. Se recomienda leer atentamente todas las secciones antes de jugar.</p>
                </div>

                <h3 class="section-title-chip" id="gen-registro">REGISTRO DE PERSONAJE</h3>
                <p>Al ingresar por primera vez al servidor, se habilitará el formulario de creación de personaje. Datos requeridos:</p>
                <ul><li>Nombre y Apellido</li><li>Fecha de Nacimiento</li><li>Sexo</li><li>Altura</li></ul>
                <div class="alert-box tip"><p><strong><i class="fa-solid fa-lightbulb"></i> Tip:</strong> Usá un nombre realista. Evitá nombres de famosos o graciosos, serán rechazados por el staff.</p></div>
                <p><strong>Formato válido:</strong> Nombre + Apellido</p>
                <p><strong>Ejemplos inválidos:</strong> Lionel Messi, Armando Paredes, etc.</p>

                <h3 class="section-title-chip" id="gen-trabajos">TRABAJOS DISPONIBLES</h3>
                <p>En NITROBAY existen dos tipos de trabajos:</p>
                <ul><li><strong>Trabajos NO WHITELIST:</strong> No requieren entrevista ni aprobación previa.</li><li><strong>Trabajos WHITELIST:</strong> Requieren entrevista o examen vía Discord.</li></ul>
                <div class="rule-box two-columns">
                    <div><h4>Trabajos SIN WHITELIST</h4><p>No requieren autorización previa.</p><ul><li>Basurero</li><li>Minero</li><li>Pedidos YA</li><li>Camionero</li><li>Granjero</li><li>Portuario</li><li>Limpia vidrios</li><li>Colectivero</li><li>Cazador</li></ul></div>
                    <div><h4>Trabajos WHITELIST</h4><p>Requieren entrevista o examen por Discord.</p><ul><li>PDLC</li><li>PSG</li><li>GNA</li><li>SAME</li><li>Taxi</li><li>Mecánico</li><li>Abogado</li><li>Periodista</li></ul></div>
                </div>
                <div class="alert-box info"><p><strong><i class="fa-solid fa-shield-halved"></i> Importante:</strong> Los trabajadores en servicio están protegidos por normativa. Está terminantemente prohibido robarlos, secuestrarlos o agredirlos mientras realizan sus actividades laborales.</p></div>

                <h3 class="section-title-chip" id="gen-orgs">ORGANIZACIONES ILÍCITAS</h3>
                <p>En NITROBAY también existen <strong>Bandas, Mafias y Carteles</strong>. Se gestionan a través de un ticket en Discord.</p>
                <div class="rule-box">
                    <h4>¿Cómo se componen las organizaciones?</h4>
                    <p>Cada tipo tiene un límite de miembros inicial:</p>
                    <ul><li><strong>Bandas:</strong> 8 miembros.</li><li><strong>Mafias:</strong> 12 miembros.</li><li><strong>Carteles:</strong> 15 miembros.</li></ul>
                    <div class="alert-box tip"><p><strong><i class="fa-solid fa-shirt"></i> Importante:</strong> Todos los miembros deben usar la vestimenta y vehículos oficiales.</p></div>
                </div>
                
                <h3 class="section-title-chip" id="gen-normas">NORMAS DEL SERVIDOR</h3>
                <ol class="rule-list">
                  <li><strong>Participación en el rol:</strong> Está prohibido salirse del rol. Siempre debes mantener la coherencia del personaje y continuar el rol hasta que un administrador te indique lo contrario. Salirse del rol sin autorización será sancionado.</li>
                  <li><strong>Metagaming (MG):</strong> Prohibido utilizar información obtenida por fuera del juego (OOC) para beneficiarte dentro del rol.</li>
                  <li><strong>Powergaming (PG):</strong> Prohibido realizar acciones imposibles de ejecutar en la vida real o forzar roles sobre otros jugadores.</li>
                  <li><strong>Deathmatch (DM):</strong> Está prohibido matar a otro jugador sin un motivo de rol válido. Ejemplo: No puedes matar a alguien solo porque no tenía dinero después de robarle.</li>
                  <li><strong>Valorar la Vida:</strong> Siempre debes priorizar tu vida y la de tus compañeros. No puedes disparar si tu compañero ya está siendo apuntado, salvo que sea un tiro limpio a la cabeza y tengas superioridad numérica.</li>
                  <!-- ... (El resto de las 50 reglas irían aquí, con el mismo formato) ... -->
                </ol>

                <h3 class="section-title-chip" id="gen-sanciones">TIPOS DE SANCIONES</h3>
                <div class="rule-box">
                    <h4>Jail OOC, Baneos Temporales y Permanentes</h4>
                    <p>Las sanciones varían según la gravedad y reincidencia de la falta. A continuación se detallan algunas.</p>
                </div>
                <div class="sanctions-grid">
                    <div class="sanction-card">
                        <h5>🔒 30 MINUTOS JAILOOC</h5>
                        <ul><li>Mal uso de /anon</li><li>Cortar rol por /local</li><li>...etc</li></ul>
                    </div>
                    <div class="sanction-card">
                        <h5>🔒 60 MINUTOS JAILOOC</h5>
                        <ul><li>No respetar RDE</li><li>Insultar por /anon</li><li>...etc</li></ul>
                    </div>
                    <div class="sanction-card danger">
                        <h5>☠️ BANEOS PERMANENTES</h5>
                        <ul><li>Uso de cheats</li><li>DOX</li><li>Venta por dinero OOC</li><li>...etc</li></ul>
                    </div>
                </div>

                <!-- ... Resto del contenido de la sección GENERAL aquí ... -->

            </article>

            <!-- SECCIONES VACÍAS (listas para llenar) -->
            <article id="comandos" class="content-section"><h2 class="section-title-chip">COMANDOS</h2><p>PONER TEXTO AQUÍ</p></article>
            <article id="fuerzas-armadas" class="content-section"><h2 class="section-title-chip">FUERZAS ARMADAS</h2><p>PONER TEXTO AQUÍ</p></article>
            <article id="policia" class="content-section"><h2 class="section-title-chip">POLICÍA</h2><p>PONER TEXTO AQUÍ</p></article>
            <article id="gendarmeria" class="content-section"><h2 class="section-title-chip">GENDARMERÍA</h2><p>PONER TEXTO AQUÍ</p></article>
            <article id="same" class="content-section"><h2 class="section-title-chip">SAME</h2><p>PONER TEXTO AQUÍ</p></article>
            <article id="organizaciones" class="content-section"><h2 class="section-title-chip">ORGANIZACIONES</h2><p>PONER TEXTO AQUÍ</p></article>
            <article id="robos" class="content-section"><h2 class="section-title-chip">ROBOS</h2><p>PONER TEXTO AQUÍ</p></article>
            <article id="mecanicos" class="content-section"><h2 class="section-title-chip">MECÁNICOS</h2><p>PONER TEXTO AQUÍ</p></article>
            <article id="taxis" class="content-section"><h2 class="section-title-chip">TAXIS</h2><p>PONER TEXTO AQUÍ</p></article>
            <article id="banco-central" class="content-section"><h2 class="section-title-chip">BANCO CENTRAL</h2><p>PONER TEXTO AQUÍ</p></article>
            <article id="streamer" class="content-section"><h2 class="section-title-chip">STREAMERS</h2><p>PONER TEXTO AQUÍ</p></article>
            <article id="constitucion" class="content-section"><h2 class="section-title-chip">CONSTITUCIÓN</h2><p>PONER TEXTO AQUÍ</p></article>
        </main>
    </div>

    <a href="#" id="back-to-top" class="back-to-top-btn"><i class="fa-solid fa-arrow-up"></i></a>

    <footer>
        <div class="social-icons">
            <a href="#"><i class="fa-brands fa-discord"></i></a>
            <a href="#"><i class="fa-brands fa-tiktok"></i></a>
            <a href="#"><i class="fa-brands fa-instagram"></i></a>
        </div>
        <p>&copy; 2025 NitroBay RP. Todos los derechos reservados.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const sidebarLinks = document.querySelectorAll('.sidebar-link');
            const contentSections = document.querySelectorAll('.content-section');
            const backToTopButton = document.getElementById('back-to-top');
            
            // Elementos del buscador
            const searchInput = document.getElementById('rules-search-input');
            const searchClearBtn = document.getElementById('rules-search-clear');
            const searchCount = document.getElementById('rules-search-count');
            const searchScopeCurrent = document.getElementById('search-scope-current');
            const searchResultsSection = document.getElementById('search-results');
            const searchResultsList = document.getElementById('search-results-list');
            const noResultsMsg = document.getElementById('search-no-results');

            let lastActiveId = 'general';

            function showSection(targetId) {
                contentSections.forEach(section => section.classList.remove('active'));
                sidebarLinks.forEach(link => link.classList.remove('active'));

                const targetSection = document.getElementById(targetId);
                const targetLink = document.querySelector(`.sidebar-link[data-target="${targetId}"]`);

                if (targetSection) targetSection.classList.add('active');
                if (targetLink) targetLink.classList.add('active');

                if (targetId !== 'search-results') {
                    lastActiveId = targetId;
                }
                // Actualiza la URL sin recargar la página
                history.pushState(null, '', '#' + targetId);
                window.scrollTo(0, 0); // Vuelve al inicio de la página al cambiar de sección
            }

            sidebarLinks.forEach(link => {
                link.addEventListener('click', e => {
                    e.preventDefault();
                    const targetId = link.getAttribute('data-target');
                    clearSearch(true); // Limpia la búsqueda y vuelve a la vista normal
                    showSection(targetId);
                });
            });

            // Lógica del buscador
            const performSearch = () => {
                const query = searchInput.value.toLowerCase().trim();
                if (query.length < 3) {
                    clearSearch();
                    return;
                }

                searchResultsList.innerHTML = '';
                let count = 0;
                const searchScope = searchScopeCurrent.checked ? [document.getElementById(lastActiveId)] : Array.from(contentSections);

                searchScope.forEach(section => {
                    if (section.id === 'search-results') return;
                    
                    const textContent = section.innerText.toLowerCase();
                    if (textContent.includes(query)) {
                        count++;
                        const resultItem = document.createElement('a');
                        resultItem.className = 'search-result-item';
                        resultItem.href = `#${section.id}`;
                        resultItem.innerHTML = `
                            <span class="result-section">${section.querySelector('h2').textContent}</span>
                            <p>${section.querySelector('p').textContent.substring(0, 150)}...</p>`;
                        
                        resultItem.addEventListener('click', (e) => {
                            e.preventDefault();
                            showSection(section.id);
                        });
                        searchResultsList.appendChild(resultItem);
                    }
                });

                searchCount.textContent = `${count} resultado(s)`;
                noResultsMsg.hidden = count > 0;
                showSection('search-results');
            };

            function clearSearch(restoreView = false) {
                searchInput.value = '';
                searchResultsList.innerHTML = '';
                searchCount.textContent = '0 resultados';
                noResultsMsg.hidden = true;
                if (restoreView) {
                    showSection(lastActiveId);
                }
            }

            searchInput.addEventListener('input', debounce(performSearch, 300));
            searchClearBtn.addEventListener('click', () => clearSearch(true));
            searchScopeCurrent.addEventListener('change', performSearch);
            
            function debounce(func, delay) {
                let timeout;
                return function(...args) {
                    clearTimeout(timeout);
                    timeout = setTimeout(() => func.apply(this, args), delay);
                };
            }

            // Botón de volver arriba
            window.onscroll = () => {
                if (document.body.scrollTop > 200 || document.documentElement.scrollTop > 200) {
                    backToTopButton.style.display = "flex";
                } else {
                    backToTopButton.style.display = "none";
                }
            };
            backToTopButton.addEventListener('click', (e) => {
                e.preventDefault();
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });

            // Cargar sección inicial según el hash en la URL
            const initialHash = window.location.hash.replace('#', '');
            if (initialHash && document.getElementById(initialHash)) {
                showSection(initialHash);
            } else {
                showSection('general');
            }
        });
    </script>
</body>
</html>